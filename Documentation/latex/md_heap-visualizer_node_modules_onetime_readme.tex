\begin{quote}
Ensure a function is only called once \end{quote}


When called multiple times it will return the return value from the first call.

{\itshape Unlike the module \href{https://github.com/isaacs/once}{\texttt{ once}}, this one isn\textquotesingle{}t naughty and extending {\ttfamily Function.\+prototype}.}

\doxysection*{Install}


\begin{DoxyCode}{0}
\DoxyCodeLine{\$ npm install onetime}
\end{DoxyCode}


\doxysection*{Usage}


\begin{DoxyCode}{0}
\DoxyCodeLine{const onetime = require('onetime');}
\DoxyCodeLine{}
\DoxyCodeLine{let i = 0;}
\DoxyCodeLine{}
\DoxyCodeLine{const foo = onetime(() => ++i);}
\DoxyCodeLine{}
\DoxyCodeLine{foo(); //=> 0}
\DoxyCodeLine{foo(); //=> 0}
\DoxyCodeLine{foo(); //=> 0}
\DoxyCodeLine{}
\DoxyCodeLine{onetime.callCount(foo); //=> 3}
\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{const onetime = require('onetime');}
\DoxyCodeLine{}
\DoxyCodeLine{const foo = onetime(() => \{\}, \{throw: true\});}
\DoxyCodeLine{}
\DoxyCodeLine{foo();}
\DoxyCodeLine{}
\DoxyCodeLine{foo();}
\DoxyCodeLine{//=> Error: Function `foo` can only be called once}
\end{DoxyCode}


\doxysection*{A\+PI}

\doxysubsection*{onetime(fn, \mbox{[}options\mbox{]})}

Returns a function that only calls {\ttfamily fn} once.

\doxysubsubsection*{fn}

Type\+: {\ttfamily Function}

Function that should only be called once.

\doxysubsubsection*{options}

Type\+: {\ttfamily Object}

\doxyparagraph*{throw}

Type\+: {\ttfamily boolean}~\newline
 Default\+: {\ttfamily false}

Throw an error when called more than once.

\doxysubsection*{onetime.\+call\+Count(fn)}

Returns a number representing how many times {\ttfamily fn} has been called.

Note\+: It throws an error if you pass in a function that is not wrapped by {\ttfamily onetime}.


\begin{DoxyCode}{0}
\DoxyCodeLine{const foo = onetime(() => \{\});}
\DoxyCodeLine{}
\DoxyCodeLine{foo();}
\DoxyCodeLine{foo();}
\DoxyCodeLine{foo();}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(onetime.callCount(foo));}
\DoxyCodeLine{//=> 3}
\end{DoxyCode}


\doxysubsubsection*{fn}

Type\+: {\ttfamily Function}

Function to get call count from.

\doxysection*{License}

M\+IT Â© \href{https://sindresorhus.com}{\texttt{ Sindre Sorhus}} 