\begin{quote}
Run multiple promise-\/returning \& async functions with limited concurrency \end{quote}


\doxysection*{Install}


\begin{DoxyCode}{0}
\DoxyCodeLine{\$ npm install p-\/limit}
\end{DoxyCode}


\doxysection*{Usage}


\begin{DoxyCode}{0}
\DoxyCodeLine{const pLimit = require('p-\/limit');}
\DoxyCodeLine{}
\DoxyCodeLine{const limit = pLimit(1);}
\DoxyCodeLine{}
\DoxyCodeLine{const input = [}
\DoxyCodeLine{    limit(() => fetchSomething('foo')),}
\DoxyCodeLine{    limit(() => fetchSomething('bar')),}
\DoxyCodeLine{    limit(() => doSomething())}
\DoxyCodeLine{];}
\DoxyCodeLine{}
\DoxyCodeLine{(async () => \{}
\DoxyCodeLine{    // Only one promise is run at once}
\DoxyCodeLine{    const result = await Promise.all(input);}
\DoxyCodeLine{    console.log(result);}
\DoxyCodeLine{\})();}
\end{DoxyCode}


\doxysection*{A\+PI}

\doxysubsection*{p\+Limit(concurrency)}

Returns a {\ttfamily limit} function.

\doxysubsubsection*{concurrency}

Type\+: {\ttfamily number}\textbackslash{} Minimum\+: {\ttfamily 1}\textbackslash{} Default\+: {\ttfamily Infinity}

Concurrency limit.

\doxysubsection*{limit(fn, ...\+args)}

Returns the promise returned by calling {\ttfamily fn(...\+args)}.

\doxysubsubsection*{fn}

Type\+: {\ttfamily Function}

Promise-\/returning/async function.

\doxysubsubsection*{args}

Any arguments to pass through to {\ttfamily fn}.

Support for passing arguments on to the {\ttfamily fn} is provided in order to be able to avoid creating unnecessary closures. You probably don\textquotesingle{}t need this optimization unless you\textquotesingle{}re pushing a {\itshape lot} of functions.

\doxysubsection*{limit.\+active\+Count}

The number of promises that are currently running.

\doxysubsection*{limit.\+pending\+Count}

The number of promises that are waiting to run (i.\+e. their internal {\ttfamily fn} was not called yet).

\doxysubsection*{limit.\+clear\+Queue()}

Discard pending promises that are waiting to run.

This might be useful if you want to teardown the queue at the end of your program\textquotesingle{}s lifecycle or discard any function calls referencing an intermediary state of your app.

Note\+: This does not cancel promises that are already running.

\doxysection*{F\+AQ}

\doxysubsection*{How is this different from the \href{https://github.com/sindresorhus/p-queue}{\texttt{ {\ttfamily p-\/queue}}} package?}

This package is only about limiting the number of concurrent executions, while {\ttfamily p-\/queue} is a fully featured queue implementation with lots of different options, introspection, and ability to pause the queue.

\doxysection*{Related}


\begin{DoxyItemize}
\item \href{https://github.com/sindresorhus/p-queue}{\texttt{ p-\/queue}} -\/ Promise queue with concurrency control
\item \href{https://github.com/sindresorhus/p-throttle}{\texttt{ p-\/throttle}} -\/ Throttle promise-\/returning \& async functions
\item \href{https://github.com/sindresorhus/p-debounce}{\texttt{ p-\/debounce}} -\/ Debounce promise-\/returning \& async functions
\item \href{https://github.com/sindresorhus/p-all}{\texttt{ p-\/all}} -\/ Run promise-\/returning \& async functions concurrently with optional limited concurrency
\item \href{https://github.com/sindresorhus/promise-fun}{\texttt{ Moreâ€¦}}
\end{DoxyItemize}

\DoxyHorRuler{0}


 {\bfseries{ \href{https://tidelift.com/subscription/pkg/npm-p-limit?utm_source=npm-p-limit&utm_medium=referral&utm_campaign=readme}{\texttt{ Get professional support for this package with a Tidelift subscription}} }} ~\newline
 \textsubscript{ Tidelift helps make open source sustainable for maintainers while giving companies~\newline
assurances about security, maintenance, and licensing for their dependencies. }  